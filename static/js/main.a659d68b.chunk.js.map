{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageItems.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Searchbar/searchbar.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/services/api.js","App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","largeImageURL","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","styles","overlay","onClick","currentTarget","target","modal","src","alt","Searchbar","onSearch","searchBar","searchForm","onSubmit","preventDefault","elements","searchQuery","value","trim","toLowerCase","toast","info","type","searchForm_button","searchForm_button_label","name","searchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","imageItem","imageGalleryItem_image","ImageGallery","images","imageSelected","imageGallery","map","image","id","override","css","Loader","color","loading","useState","size","Button","button","buttonClick","fetchImagesQuery","page","a","axios","get","then","response","data","hits","App","setSearchQuery","setImages","setPage","setImageSelected","status","setStatus","length","Error","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","warning","getImage","handleChange","search","resetState","container","imageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a659d68b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__1X3EB\",\"modal\":\"modal_modal__QwWsH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"imageItems_imageItem__1zG4E\",\"imageGalleryItem_image\":\"imageItems_imageGalleryItem_image__2lITQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__28lGX\",\"buttonClick\":\"button_buttonClick__XD5QE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__3yrYs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"searchbar_searchBar__3r1em\",\"searchForm\":\"searchbar_searchForm__3T5kL\",\"searchForm_button\":\"searchbar_searchForm_button__1KsDR\",\"searchForm_button_label\":\"searchbar_searchForm_button_label__2Dg1-\",\"searchForm_input\":\"searchbar_searchForm_input__16IAS\"};","import styles from \"../Modal/modal.module.css\";\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport function Modal({ onClose, largeImageURL }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.modal}>\r\n        <img src={largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\n// export class Modal extends Component {\r\n//   componentDidMount() {\r\n//     window.addEventListener(\"keydown\", this.handleKeyDown);\r\n//   }\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n//   }\r\n//   handleKeyDown = (e) => {\r\n//     if (e.code === \"Escape\") {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n//   handleBackdropClick = (e) => {\r\n//     if (e.currentTarget === e.target) {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n//   render() {\r\n//     const { largeImageURL } = this.props;\r\n//     return createPortal(\r\n//       <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n//         <div className={styles.modal}>\r\n//           <img src={largeImageURL} alt=\"\" />\r\n//         </div>\r\n//       </div>,\r\n//       modalRoot\r\n//     );\r\n//   }\r\n// }\r\n","import styles from \"../Searchbar/searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport function Searchbar({ onSearch }) {\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.elements.searchQuery.value.trim() === \"\") {\r\n      toast.info(\"Please, enter query!\");\r\n      return;\r\n    }\r\n    onSearch(e.target.elements.searchQuery.value.toLowerCase().trim());\r\n    e.target.elements.searchQuery.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <header className={styles.searchBar}>\r\n      <form className={styles.searchForm} onSubmit={handleSearch}>\r\n        <button type=\"submit\" className={styles.searchForm_button}>\r\n          <span className={styles.searchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          name=\"searchQuery\"\r\n          className={styles.searchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\nSearchbar.propTypes = {\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n","import styles from \"../ImageGalleryItem/imageItems.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport function ImageGalleryItem({ webformatURL, largeImageURL, onClick }) {\r\n  return (\r\n    <li className={styles.imageItem} onClick={() => onClick(largeImageURL)}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={styles.imageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styles from \"../ImageGallery/imageGallery.module.css\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem.js\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport function ImageGallery({ images, imageSelected }) {\r\n  return (\r\n    <>\r\n      <ul className={styles.imageGallery}>\r\n        {images.map((image) => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            webformatURL={image.webformatURL}\r\n            largeImageURL={image.largeImageURL}\r\n            onClick={imageSelected}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  imageSelected: PropTypes.func.isRequired,\r\n};","import { useState } from \"react\";\r\nimport { css } from \"@emotion/react\";\r\nimport RingLoader from \"react-spinners/RingLoader\";\r\n\r\nconst override = css`\r\n  display: flex;\r\n  margin: 0 auto;\r\n  border-color: red;\r\n`;\r\nexport function Loader() {\r\n  return (\r\n    <RingLoader\r\n      color=\"#3f51b5\"\r\n      loading={useState(true)}\r\n      css={override}\r\n      size={220}\r\n    />\r\n  );\r\n}\r\n","import styles from \"../Button/button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport function Button({ onClick }) {\r\n  return (\r\n    <div className={styles.button}>\r\n      <button className={styles.buttonClick} type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst fetchImagesQuery = async (searchQuery, page) => {\r\n  const API_KEY = \"22317274-5f5939ff79d612c3aacb02224\";\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\nexport { fetchImagesQuery };\r\n","import styles from \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { Modal } from \"./components/Modal/Modal.js\";\nimport { Searchbar } from \"./components/Searchbar/Searchbar.js\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery.js\";\nimport { Loader } from \"./components/Loader/Loader.js\";\nimport { Button } from \"./components/Button/Button.js\";\nimport { fetchImagesQuery } from \"./components/services/api.js\";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [imageSelected, setImageSelected] = useState(\"\");\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    async function getImage() {\n      setStatus(\"pending\");\n      try {\n        const images = await fetchImagesQuery(searchQuery, page);\n        if (!images.length) {\n          throw new Error();\n        }\n        setImages((prevImages) => [...prevImages, ...images]);\n        setStatus(\"resolved\");\n\n        page > 1 &&\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n      } catch (error) {\n        toast.warning(`Not found any images by query: ${searchQuery}`);\n        setStatus(\"rejected\");\n      }\n    }\n    getImage();\n  }, [searchQuery, page]);\n\n  const handleChange = (search) => {\n    if (search === searchQuery) {\n      toast.info(\"Please, enter new query!\");\n      return;\n    }\n    resetState();\n    setSearchQuery(search);\n  };\n\n  const resetState = () => {\n    setSearchQuery(\"\");\n    setPage(1);\n    setImageSelected(null);\n    setImages([]);\n    setStatus(\"idle\");\n  };\n  const toggleModal = () => {\n    setImageSelected(!imageSelected);\n  };\n  const incrementPage = () => {\n    setPage((page) => page + 1);\n  };\n  const handleSelectedImage = (imageURL) => {\n    setImageSelected(imageURL);\n  };\n\n  if (status === \"idle\") {\n    return (\n      <div className={styles.container}>\n        <Searchbar onSearch={handleChange} />\n      </div>\n    );\n  }\n  if (status === \"pending\") {\n    return (\n      <div className={styles.container}>\n        <Searchbar onSearch={handleChange} />\n        <Loader />\n      </div>\n    );\n  }\n  if (status === \"resolved\") {\n    return (\n      <div className={styles.container}>\n        <Searchbar onSearch={handleChange} />\n        <ImageGallery images={images} imageSelected={handleSelectedImage} />\n        {images.length > 0 && <Button onClick={incrementPage} />}\n        {imageSelected && (\n          <Modal largeImageURL={imageSelected} onClose={toggleModal} />\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n  if (status === \"rejected\") {\n    return (\n      <div className={styles.container}>\n        <Searchbar onSearch={handleChange} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}